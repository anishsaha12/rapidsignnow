<!DOCTYPE html>
<html lang="en">

<head>
    {% load staticfiles %}
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="{% static 'theme/images/favicon.ico' %}" type="image/icon">
    <title>RapidSignNow</title>

    {% block theme_styles %}
    <link href="{% static 'theme/bs3/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'theme/css/bootstrap-reset.css' %}" rel="stylesheet">
    <link href="{% static 'theme/font-awesome/css/font-awesome.css' %}" rel="stylesheet" />

    <link href="{% static 'theme/css/style.css' %}" rel="stylesheet">
    <link href="{% static 'theme/css/style-responsive.css' %}" rel="stylesheet" /> {% endblock theme_styles %}

    <link rel="stylesheet" href="{% static 'common/css/sweetalert2.min.css' %}">
    <link rel="stylesheet" href="{% static 'common/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'broker/css/style.css' %}"> {% block other_styles %} {% endblock other_styles %}
</head>
<style>
        .notification-bell-mobile {
            background-color: #32d2c9;
            border-radius: 50%;
            -webkit-border-radius: 50%;
            width: 32px;
            height: 32px;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            right: 15px;
        }

        .notification-bell-mobile .notification{
            left:-266px;
            overflow-y: auto;
            height: 90vh;
            transition: 0.1ms;
        }
        ul.top-menu>li>a {
            background-color: #32D2C9;
        }
    </style>

<body>
    {% if ENVIRONMENT == "staging" %}
    
    <section class="text-danger staging-banner" id="staging-banner" style="color: #a94442;background-color: #f2dede;border-color: #ebccd1;height: 30px;position: fixed;text-align: center;padding: 2px;font-size: 16px;top: 0;left: 0; z-index: 10000;width: 100%;">
        Please Note: This is a Staging environment. Any changes made here won't affect the production environment
        <span style="float:right; margin-right:30px;"><button class="close-staging-banner" style="background-color:transparent ;color:#ffffff; margin-bottom:3px;"><i class="fa fa-times-circle"></i></button></span>
    </section>
    <section id="container" style="top: 30px;position: relative;">
            <header class="header fixed-top clearfix" style="top:30px">
    {% else %}
    <section id="container">
        <header class="header fixed-top clearfix">
                {% endif %}
                
            <div class="brand">

                <a class="logo">
            Broker
        </a>
                <div class="sidebar-toggle-box">
                    <div class="fa fa-bars"></div>
                </div>
                <div class="nav notify-row visible-xs pull-right notification-bell-mobile" id="top_menu">
                        <!--  notification start -->
                        <ul class="nav top-menu">
                            <li id="header_notification_bar" class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#" style="padding: 4px 8px;">
    
                            <i class="fa fa-bell-o"></i>
                            {% if notifications.unread > 0 %}
                            <span class="badge bg-warning">{{ notifications.unread }}</span>
                            {% endif %}
                        </a>
    
    
                                <ul class="dropdown-menu extended notification">
                                    <li>
                                        <p>Notifications</p>
                                    </li>
                                    <div style="overflow-y: auto; height: 70vh;transition: 0.1ms;">
                                      {% include 'broker/notification_snippet.html' %}
                                      
                                    </div>
                                    <!-- <a href="/broker/all-notifications/">See all</a> -->
                                </ul>
                            </li>
                        </ul>
                        <!--  notification end -->
                    </div>
            </div>

            <div class="top-nav clearfix">
                <div class="pull-left">
                    <button type="button" class="btn btn-primary" id="navigation-button"></button>
                </div>
                <ul class="nav pull-right top-menu">
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle icon-user" href="#">
                    <i class="fa fa-user"></i>
                    <span class="username">{{ request.user.first_name }} {{ request.user.last_name }}</span>
                    <b class="caret"></b>
                </a>
                        <ul class="dropdown-menu extended logout">
                            <li><a href="/broker/my-profile/"><i class=" fa fa-suitcase"></i>Profile</a></li>
                            <li><a href="/logout/"><i class="fa fa-key"></i> Log Out</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="nav notify-row hidden-xs pc-version-notifications" id="top_menu">
                        <!--  notification start -->
                        <ul class="nav top-menu">
                            <li id="header_notification_bar" class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#" style="padding: 4px 8px;">
    
                            <i class="fa fa-bell-o"></i>
                            {% if notifications.unread > 0 %}
                            <span class="badge bg-warning">{{ notifications.unread }}</span>
                            {% endif %}
                        </a>


                                <ul class="dropdown-menu extended notification">
                                        <li>
                                                <p>Notifications</p>
                                            </li>
                                            <div style="overflow-y: auto; height: 70vh;transition: 0.1ms;">
                                              {% include 'broker/notification_snippet.html' %}
                                              
                                            </div>
                                </ul>
                            </li>
                        </ul>
                        <!--  notification end -->
                    </div>
            </div>
        </header>

        <aside>
            <div id="sidebar" class="nav-collapse">
                <div class="leftside-navigation">
                    <ul class="sidebar-menu" id="nav-accordion">
                            <li>
                                    <a data-nav-item="create-new-case" href="/broker/create-new-case/">
                                    <span>Create new case</span>
                                </a>
                                </li>
                        <li>
                            <a data-nav-item="dashboard" href="/broker/dashboard/">
                            <span>Dashboard</span>
                        </a>
                        </li>
                        <li>
                            <a data-nav-item="all-cases" href="/broker/all-cases/">
                            <span>All Cases</span>
                        </a>
                        </li>
                        <li>
                            <a data-nav-item="change-password" href="/broker/change-password/">
                                <span>Change Password</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </aside>
        <section id="main-content">
            <section class="wrapper">

                {% block content %}{% endblock content %}
            </section>
        </section>

        <div class="footer">
                <div class="disclaimer-legal" style="float:right">
                        <div class="row">
                            
                            <div class="col-sm-12">
                                <p><a href="{% static 'privacy_policy.pdf' %}" download>Privacy Policy</a> â€” <a href="{% static 'term_of_use.pdf' %}">Terms of Use</a></p>
                            </div>

                        </div>
                    </div>
        </div>
    </section>


    {% block theme_scripts %}
    <script src="{% static 'theme/js/jquery.js' %}"></script>
    <script src="{% static 'theme/bs3/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'theme/js/jquery.dcjqaccordion.2.7.js' %}" class="include"></script>
    <script src="{% static 'theme/js/jquery.scrollTo.min.js' %}"></script>
    <script src="{% static 'theme/js/jQuery-slimScroll-1.3.0/jquery.slimscroll.js' %}"></script>
    <script src="{% static 'theme/js/jquery.nicescroll.js' %}"></script>

    <script src="{% static 'theme/js/scripts.js' %}"></script>
    {% endblock theme_scripts %}

    <script src="{% static 'common/js/script.js' %}"></script>
    <script src="{% static 'common/js/sweetalert2.min.js' %}"></script>

    <script>
        $('#top_menu').click(function () {
            $(this).find('.noti-info').each(function () {
                var status_id = $(this).attr('data-status-id'),
                    acceptance_id = $(this).attr('data-acceptance-id');
                if (status_id) {
                    $.get('/broker/mark-as-read/?id=' + status_id + '&type=status');
                } else {
                    $.get('/broker/mark-as-read/?id=' + acceptance_id + '&type=acceptance');
                }
            });
            $(this).find('.badge.bg-warning').remove();
        })

        $('.close-staging-banner').click(function(){
            debugger
            $(this).parent().parent().remove();

            $("#container").removeAttr("style")
            $(".header").removeAttr("style")
        })
        
        
        $('.pc-version-notifications').click(function () {
            $(this).find('.noti-info').each(function () {
                var status_id = $(this).attr('data-status-id'),
                    acceptance_id = $(this).attr('data-acceptance-id');
                if (status_id) {
                    $.get('/broker/mark-as-read/?id=' + status_id + '&type=status');
                } else {
                    $.get('/broker/mark-as-read/?id=' + acceptance_id + '&type=acceptance');
                }
            });
            $(this).find('.badge.bg-warning').remove();
            // $('.badge.bg-warning').remove();
            // $('.badge.bg-warning').remove();
        })
        


    </script>

    {% block other_scripts %} {% endblock other_scripts %}

</body>

</html>